{% extends "base.html" %}

{% block title %}Image Manager{% endblock %}

{% block content_title %}Image Manager{% endblock %}

{% block description %}Photo management tools.{% endblock %}

{% block extra_head %}<link href="/css/photo-grid.css" rel="stylesheet">{% endblock %}

{% block extra_scripts %}<script src="/js/photo-grid.js" type="text/javascript"></script>{% endblock %}

{% block content %}
    <div class="form-group col-md-12">
		<h4>Upload</h4>

		<label >Title (optional)</label>
		<input type="text" class="form-control" id="uploadText">

		<label >Caption (optional)</label>
		<input type="text" class="form-control" id="uploadCaption">
	</div>

	<div class="form-row col-md-12">
		<div class="form-group col-md-6">
		  <label>Select Image</label>
		  <input type="file" id="uploadImg" accept="image/*">
		</div>
  
		<div class="form-group col-md-2">
		  <label>Submit</label>
		  <button id="uploadButton" type="button" class="btn btn-primary form-control" onclick="uploadImage()">Upload</button>
		</div>
	</div>

	<div class="form-group col-md-12">
		<h4>Library</h4>
	</div>

	<div class="form-row col-md-12">
		<div class="form-group col-md-2">
			<button id="selectBtn" class="btn btn-primary form-control" onclick="selectClicked()">Select</button>
		</div>
  
		<div class="form-group col-md-2">
			<button id="deleteBtn" class="btn form-control" onclick="deleteClicked()">Delete</button>
		</div>
	</div>

	<div id="photo-manager" class="photo-manager" style="margin-top: 10px;">
		<div id="photo-grid" class="photo-grid">
			{% for id, path in images.items() %}
				<img id="{{ id }}" src="{{ path }}" class="photo-cell">
			{% endfor %}
		</div>
	</div>

	<div class="modal fade" id="imageModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
		  <div class="modal-content">
			<div class="modal-header">
			  <h5 class="modal-title" id="exampleModalLabel">Edit Image</h5>
			  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			  </button>
			</div>
				<div class="modal-body">
				
				<div class="form-group row">
					<label for="titleField" class="col-sm-8 col-form-label">Title</label>
					<div class="col-sm-8">
						<input type="text" class="form-control" id="titleField">
					</div>
					<div class="col-sm-4">
						<button id="titleUpdateButton" onclick="" class="btn btn-primary form-control">Update</button>
					</div>
				</div>

				<div class="form-group row">
					<label for="captionField" class="col-sm-8 col-form-label">Caption</label>
					<div class="col-sm-8">
						<input type="text" class="form-control" id="captionField">
					</div>
					<div class="col-sm-4">
						<button id="captionUpdateButton" onclick="" class="btn btn-primary form-control">Update</button>
					</div>
				</div>

				<hr class="separator">

				<div class="form-group row">
					<label for="deleteButton" class="col-sm-8 col-form-label">Image Preview</label>
					<img id="previewImage" src="/content/lego.jpg" class="photo-preview">
				</div>

				<hr class="separator">

				<div class="form-group row">
					<label for="deleteButton" class="col-sm-8 col-form-label">Delete this Image?</label>
					<div class="col-sm-4">
						<button id="imageDeleteButton" onclick="" class="btn btn-danger form-control">Delete</button>
					</div>
				</div>
			</div>
		  </div>
		</div>
	  </div>
{% endblock %}

{% block final_scripts %}
	<script>
		addImageClickers();
	</script>
{% endblock %}
